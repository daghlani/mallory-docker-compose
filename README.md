# Mallory Docker Compose
 This is a docker-compose repo to use [This](https://github.com/justmao945/mallory) project (docker version). This is a way to use HTTP/HTTPS proxy over SSH.
## Usage

  - create a config file:

    ```bash
    cp mallory.json.tmp mallory.json
    ```



  - edit mallory.json:
    ```bash
    vi mallory.json
    ```
  - This is a sample of config file. change it according your target server.
    ```bash
    {
      "id_rsa": "$HOME/.ssh/id_rsa",
      "local_smart": ":1315",
      "local_normal": ":1316",
      "remote": "ssh://user@vm.me:22",
      "blocked": [
        "angularjs.org",
        "golang.org",
        "google.com",
        "google.co.jp",
        "googleapis.com",
        "googleusercontent.com",
        "google-analytics.com",
        "gstatic.com",
        "twitter.com",
        "youtube.com"
      ]
    }
    ```
    Content:

    - id_rsa is the path to our private key file, can be generated by ssh-keygen
    - local_smart is the local address to serve HTTP proxy with smart detection of destination host
    - local_normal is similar to local_smart but send all traffic through remote SSH server without destination host detection
    - remote is the remote address of SSH server
    - blocked is a list of domains that need use proxy, any other domains will connect to their server directly


  - then save config file and run docker-compose file by this command:
  ```bash
  docker-compose up -d

  ```

>  For more information you can read original docs in [This](https://github.com/justmao945/mallory) repository
